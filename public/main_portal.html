<!--Header-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEIU HCPA Member Portal</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#FFED00" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Project Nexus" />
    <link rel="apple-touch-icon" href="/icons/small.png" />
    <link rel="icon" type="image/x-icon" href="/icons/tiny.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
    <div class="topnav" id="myTopnav">
        <a href="#home" class="active">Home</a>
        <a href="#announcement-section">Announcements</a>
        <a href="#myinformation-section">My Information</a>
        <a href="#chapterinformation-section">Chapter Information</a>
        <a href="#MRC-section">Member Resource Center</a>
        <a href="javascript:void(0);" class="icon" onclick="navMenu()">
          <i class="fa fa-bars"></i>
        </a>
      </div>
    <div class="main-body">
        <h1 id="portal-name"></h1>
        <!--if signed in a approved-->
    <div id="announcement-section">
      <h1>Add/Edit Announcements</h1>
      <table id="announcementsTable">
          <thead>
              <tr>
                  <th>Created At</th>
                  <th>Type</th>
                  <th>Posted By</th>
                  <th>Announcement</th>
                  <th>Visible</th>
                  <th>Edit</th>
              </tr>
          </thead>
          <tbody id="tableBody">
              <tr><td colspan="5">Loading...</td></tr>
          </tbody>
      </table>
    </div>

    <div id="myinformation-section">
      <h2>My Information</h2>
      <p>This will eventually connect to Zoho.
        Name
        Address
        Phone
        Job Title
        Dues / COPE information
        Card
      </p>
    </div>

    <div id="chapterinformation-section">
      <h2>Chapter Information</h2>
      <p>Information about your chapter, including contact info for leadership, and facebook page</p>
    </div>

    <div id="MRC-section">
      <h2>Member Resource Center</h2>
      <p>The <a href="https://seiuhcpa.org/resources/help/">Member Resource Center</a> is available to help in solving workplace issues.</p>
      <p>In Pennsylvania: 1-800-252-3894</p>
      <p>Out of state: 412-222-9514</p>
      <br>
  </div>
</div>


</body>
<script>
</script>
<script src="/app.js" type="module">   </script>
<script type="module">

//get logged in status

const login_data = await getLogin();
const role = login_data.role;
console.log('first')
console.log(role)
if (role !== 'admin' && role !== 'member' && role !== 'superuser' && role !== 'organizer') {
  window.location.replace("status_pending.html");}
  var x = document.getElementById("myTopnav");
  if (x.className === "topnav") {
    x.className += " responsive";
  } else {
    x.className = "topnav";
  }
  console.log(role);
  console.log(x);
  if (role === 'admin' || role === 'organizer' || role === 'superuser') {
    x.innerHTML = `
  <a href="#home" class="active">Home</a>
        <a href="#announcement-section">Announcements</a>
        <a href="#myinformation-section">My Information</a>
        <a href="#chapterinformation-section">Chapter Information</a>
        <a href="#MRC-section">Member Resource Center</a>
        <a href="admin_portal.html">Admin Portal</a>
        <a href="javascript:void(0);" class="icon" onclick="navMenu()">
          <i class="fa fa-bars"></i>
        </a>`
}

const portal_name = document.getElementById("portal-name")
portal_name.innerHTML = login_data.chapter_long + " Member Portal"


loadAnnouncements()
</script>